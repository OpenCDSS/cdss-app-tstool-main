# Datastore Configuration for Nebraska DNR INSIGHT_FAB_2012 database.
# This database contains a snapshot of data needed to perform the 2012 FAB Analyis.
# Data in the database are retrieved from the INSIGHT database/datastore that references
# DNRs various databases.
#
# Datastore properties are:
#
# The user will see the following when interacting with the data store:
#
# Name - data store identifier used in applications, for example as the
#     input type information for time series identifiers (usually a short string)
# Description - data store description for reports and user interfaces (short phrase)
#

Type = "GenericDatabaseDataStore"
Name = "INSIGHT_FAB_2012"
Description = "INSIGHT FAB Analysis 2012 Database"
DatabaseEngine = "SqlServer"
# Use ODBC DSN rather than properties here to handle security
#DatabaseServer = "vallecito"
#DatabaseName = "WaterRights"
OdbcName = "INSIGHT_FAB_2012"
# Old version corresponding to Vallecito\WATERUSE.NE_INSIGHT_2012V2
#OdbcName = "INSIGHT_FABAnalysis_2012"

# The following properties control how TSTool time series map to database tables and columns.
# TSTool time series identifiers use the notation LocationType:LocationID to specify
# unique location identifiers.  TSTool uses the following information to understand how
# to match time series identifiers with location information in in the database.
# The following properties are expanded at run time and are context-sensitive to the time series.
# Consequently, use the time series standard formatters (e.g., %I=DataInterval)
# 
# Indicate the table that contains time series metadata
# Use a view that handles the foreign keys so that this configuration is simpler
TimeSeriesMetadataTable = "view_InsightTimeSeriesMeta_All"

# Columns in the metadata table for the time series identifier parts
TimeSeriesMetadataTable_LocationTypeColumn = "LocationType"
TimeSeriesMetadataTable_LocationIdColumn = "LocationId"
TimeSeriesMetadataTable_DataSourceColumn = "DataProvider"
TimeSeriesMetadataTable_DataTypeColumn = "DataType"
TimeSeriesMetadataTable_DataIntervalColumn = "DataInterval"
TimeSeriesMetadataTable_ScenarioColumn = "Scenario"
TimeSeriesMetadataTable_DataUnitsColumn = "DataUnits"
TimeSeriesMetadataTable_MetadataIdColumn = "InsightTimeSeriesMetaID"

# Data table to use for time series data, in this case based on the interval
# (could also use the data type if DBA wanted to split out that way)
# TODO SAM 2013-06-10 Evaluate how date/time column changes for different time series tables
TimeSeriesDataTable = "InsightTimeSeriesData_%I"
TimeSeriesDataTable_MetadataIdColumn = "InsightTimeSeriesMetaID"
TimeSeriesDataTable_DateTimeColumn = "InsightTimeSeriesData_Year:Year,InsightTimeSeriesData_Day:Date"
TimeSeriesDataTable_ValueColumn = "Value"
TimeSeriesDataTable_FlagColumn = "Flag"

#######
# NOT USED
# Map location types to tables that contain location data for those types (location lists for each location type)
#LocationTypeTableMap = "POD:InsightLocation_POD,Basin:InsightLocation_Basins,SubBasin:InsightLocation_SubBasin,StreamGage:InsightLocation_StreamGages"
#LocationTypeColumnMap = "POD:LocationId,Basin:BasinId,SubBasin:SubBasinId,StreamGage:StreamGageId"
# Time series data source
#TimeSeriesMetaTableDataSourceTypeColumnMap = "InsightDataProvidersID@InsightDataProviders.InsightDataProvidersID,Abbreviation"
#######
